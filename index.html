<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You, My Love üíñ</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&family=Great+Vibes&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
  <style>
    /* same styles as before, minus .fav-star */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Quicksand', sans-serif;
      background: url('moon.jpg') no-repeat center center fixed;
      background-size: cover;
      color: #fdf0f7;
    }
    .lock-screen, .main-content {
      max-width: 900px;
      margin: auto;
      padding: 40px;
      border-radius: 20px;
      background-color: rgba(0, 0, 0, 0.6);
      margin-top: 50px;
    }
    .hidden { display: none; }
    .title {
      font-family: 'Great Vibes', cursive;
      font-size: 2.8em;
      color: #ffcad4;
      text-align: center;
    }
    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin: 20px 0;
    }
    button {
      background: #ffb6c1;
      border: none;
      color: #fff;
      padding: 12px 20px;
      font-size: 1.1em;
      border-radius: 25px;
      cursor: pointer;
    }
    .entry-group {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      margin-top: 20px;
    }
    .entry {
      background: rgba(255, 255, 255, 0.08);
      padding: 10px 15px;
      border-radius: 10px;
      margin: 10px 0;
    }
    .entry h4 {
      margin: 5px 0;
      font-weight: bold;
    }
    .entry .time {
      font-size: 0.8em;
      color: #ccc;
    }
  </style>
</head>
<body>
  <div class="lock-screen" id="lockScreen">
    <h2 class="title">Welcome, Love üíñ</h2>
    <input type="password" id="password" placeholder="Password is 'happiness'" />
    <button onclick="unlockSite()">Unlock</button>
    <p id="errorMsg" style="color:#ffc0cb;text-align:center;"></p>
  </div>
  <div class="main-content hidden" id="mainContent">
    <h1 class="title">Choose What You Need</h1>
    <div class="buttons">
      <button onclick="toggleFeelings()">üíù Reflect Feelings</button>
      <button onclick="toggleDiary()">üìì Write a Memory</button>
      <button onclick="alert('Coming soon: Zaki's messages üì≤')">üí¨ Zaki's Corner</button>
    </div>
    <div id="feelingsPanel" class="hidden">
      <div class="buttons">
        <button onclick="logFeeling('happy')">Happy</button>
        <button onclick="logFeeling('sad')">Sad</button>
        <button onclick="logFeeling('angry')">Angry</button>
        <button onclick="logFeeling('loved')">Loved</button>
      </div>
    </div>
    <div id="diarySection" class="hidden">
      <input id="diaryTitle" placeholder="Title for today..." />
      <textarea id="diaryEntry" placeholder="Write here..."></textarea>
      <button onclick="saveDiary()">Save</button>
      <div id="diaryHistory"></div>
    </div>
  </div>

  <script>
    const diaryKey = 'loveDiaryEntries';

    function unlockSite() {
      const pass = document.getElementById("password").value;
      if (pass.toLowerCase() === "happiness") {
        document.getElementById("lockScreen").classList.add("hidden");
        document.getElementById("mainContent").classList.remove("hidden");
        loadDiary();
      } else {
        document.getElementById("errorMsg").innerText = "Wrong password, love üòû";
      }
    }

    function toggleDiary() {
      document.getElementById("diarySection").classList.toggle("hidden");
    }

    function toggleFeelings() {
      document.getElementById("feelingsPanel").classList.toggle("hidden");
    }

    function logFeeling(type) {
      const text = `Ibtissem is feeling ${type} today.`;
      const date = new Date();
      const entry = {
        title: `Feeling: ${type}`,
        text,
        timestamp: date.toISOString()
      };
      const entries = JSON.parse(localStorage.getItem(diaryKey)) || [];
      entries.push(entry);
      localStorage.setItem(diaryKey, JSON.stringify(entries));
      loadDiary();
    }

    function saveDiary() {
      const title = document.getElementById("diaryTitle").value.trim() || "Untitled";
      const text = document.getElementById("diaryEntry").value.trim();
      if (!text) return alert("Please write something.");
      const date = new Date();
      const entry = {
        title,
        text,
        timestamp: date.toISOString()
      };
      const entries = JSON.parse(localStorage.getItem(diaryKey)) || [];
      entries.push(entry);
      localStorage.setItem(diaryKey, JSON.stringify(entries));
      document.getElementById("diaryTitle").value = "";
      document.getElementById("diaryEntry").value = "";
      loadDiary();
    }

    function loadDiary() {
      const history = document.getElementById("diaryHistory");
      const entries = JSON.parse(localStorage.getItem(diaryKey)) || [];
      const grouped = {};

      entries.forEach(e => {
        const day = new Date(e.timestamp).toLocaleDateString();
        if (!grouped[day]) grouped[day] = [];
        grouped[day].push(e);
      });

      history.innerHTML = Object.keys(grouped).reverse().map(date => {
        const dayEntries = grouped[date].map(e => {
          const time = new Date(e.timestamp).toLocaleTimeString();
          return `
            <div class="entry">
              <h4>${e.title}</h4>
              <p class="time">${time}</p>
              <p>${e.text}</p>
            </div>
          `;
        }).join("");

        return `
          <div class="entry-group">
            <h3>${date}</h3>
            ${dayEntries}
          </div>
        `;
      }).join("");
    }
  </script>
</body>
</html>


